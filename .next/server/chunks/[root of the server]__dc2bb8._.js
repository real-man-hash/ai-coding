module.exports = {

"[externals]/ [external] (next/dist/compiled/next-server/app-route.runtime.dev.js, cjs)": (function({ r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, m: module, e: exports, t: require }) { !function() {

const mod = __turbopack_external_require__("next/dist/compiled/next-server/app-route.runtime.dev.js");

module.exports = mod;

}.call(this) }),
"[externals]/ [external] (@opentelemetry/api, cjs)": (function({ r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, m: module, e: exports, t: require }) { !function() {

const mod = __turbopack_external_require__("@opentelemetry/api");

module.exports = mod;

}.call(this) }),
"[externals]/ [external] (next/dist/compiled/next-server/app-page.runtime.dev.js, cjs)": (function({ r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, m: module, e: exports, t: require }) { !function() {

const mod = __turbopack_external_require__("next/dist/compiled/next-server/app-page.runtime.dev.js");

module.exports = mod;

}.call(this) }),
"[externals]/ [external] (next/dist/server/app-render/prerender-async-storage.external.js, cjs)": (function({ r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, m: module, e: exports, t: require }) { !function() {

const mod = __turbopack_external_require__("next/dist/server/app-render/prerender-async-storage.external.js");

module.exports = mod;

}.call(this) }),
"[externals]/ [external] (node:crypto, cjs)": (function({ r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, m: module, e: exports, t: require }) { !function() {

const mod = __turbopack_external_require__("node:crypto");

module.exports = mod;

}.call(this) }),
"[externals]/ [external] (node:buffer, cjs)": (function({ r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, m: module, e: exports, t: require }) { !function() {

const mod = __turbopack_external_require__("node:buffer");

module.exports = mod;

}.call(this) }),
"[externals]/ [external] (node:util, cjs)": (function({ r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, m: module, e: exports, t: require }) { !function() {

const mod = __turbopack_external_require__("node:util");

module.exports = mod;

}.call(this) }),
"[externals]/ [external] (node:crypto, cjs) <export randomFillSync as default>": (({ r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__ }) => (() => {
"use strict";

__turbopack_esm__({
    "default": ()=>__TURBOPACK__imported__module__$5b$externals$5d2f$__$5b$external$5d$__$28$node$3a$crypto$2c$__cjs$29$__["randomFillSync"]
});
var __TURBOPACK__imported__module__$5b$externals$5d2f$__$5b$external$5d$__$28$node$3a$crypto$2c$__cjs$29$__ = __turbopack_import__("[externals]/ [external] (node:crypto, cjs)");
"__TURBOPACK__ecmascript__hoisting__location__";

})()),
"[externals]/ [external] (crypto, cjs)": (function({ r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, m: module, e: exports, t: require }) { !function() {

const mod = __turbopack_external_require__("crypto");

module.exports = mod;

}.call(this) }),
"[externals]/ [external] (next/dist/client/components/request-async-storage.external.js, cjs)": (function({ r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, m: module, e: exports, t: require }) { !function() {

const mod = __turbopack_external_require__("next/dist/client/components/request-async-storage.external.js");

module.exports = mod;

}.call(this) }),
"[externals]/ [external] (next/dist/client/components/static-generation-async-storage.external.js, cjs)": (function({ r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, m: module, e: exports, t: require }) { !function() {

const mod = __turbopack_external_require__("next/dist/client/components/static-generation-async-storage.external.js");

module.exports = mod;

}.call(this) }),
"[externals]/ [external] (next/dist/client/components/action-async-storage.external.js, cjs)": (function({ r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, m: module, e: exports, t: require }) { !function() {

const mod = __turbopack_external_require__("next/dist/client/components/action-async-storage.external.js");

module.exports = mod;

}.call(this) }),
"[externals]/ [external] (events, cjs)": (function({ r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, m: module, e: exports, t: require }) { !function() {

const mod = __turbopack_external_require__("events");

module.exports = mod;

}.call(this) }),
"[externals]/ [external] (process, cjs)": (function({ r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, m: module, e: exports, t: require }) { !function() {

const mod = __turbopack_external_require__("process");

module.exports = mod;

}.call(this) }),
"[externals]/ [external] (net, cjs)": (function({ r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, m: module, e: exports, t: require }) { !function() {

const mod = __turbopack_external_require__("net");

module.exports = mod;

}.call(this) }),
"[externals]/ [external] (tls, cjs)": (function({ r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, m: module, e: exports, t: require }) { !function() {

const mod = __turbopack_external_require__("tls");

module.exports = mod;

}.call(this) }),
"[externals]/ [external] (timers, cjs)": (function({ r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, m: module, e: exports, t: require }) { !function() {

const mod = __turbopack_external_require__("timers");

module.exports = mod;

}.call(this) }),
"[externals]/ [external] (stream, cjs)": (function({ r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, m: module, e: exports, t: require }) { !function() {

const mod = __turbopack_external_require__("stream");

module.exports = mod;

}.call(this) }),
"[externals]/ [external] (buffer, cjs)": (function({ r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, m: module, e: exports, t: require }) { !function() {

const mod = __turbopack_external_require__("buffer");

module.exports = mod;

}.call(this) }),
"[externals]/ [external] (string_decoder, cjs)": (function({ r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, m: module, e: exports, t: require }) { !function() {

const mod = __turbopack_external_require__("string_decoder");

module.exports = mod;

}.call(this) }),
"[externals]/ [external] (zlib, cjs)": (function({ r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, m: module, e: exports, t: require }) { !function() {

const mod = __turbopack_external_require__("zlib");

module.exports = mod;

}.call(this) }),
"[externals]/ [external] (util, cjs)": (function({ r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, m: module, e: exports, t: require }) { !function() {

const mod = __turbopack_external_require__("util");

module.exports = mod;

}.call(this) }),
"[externals]/ [external] (url, cjs)": (function({ r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, m: module, e: exports, t: require }) { !function() {

const mod = __turbopack_external_require__("url");

module.exports = mod;

}.call(this) }),
"[project]/db/schema.ts [app-route] (ecmascript)": (({ r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__ }) => (() => {
"use strict";

__turbopack_esm__({
    "chat": ()=>chat,
    "reservation": ()=>reservation,
    "user": ()=>user
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$34$2e$0_$40$types$2b$react$40$18$2e$3$2e$3_mysql2$40$3$2e$15$2e$3_react$40$19$2e$0$2e$0$2d$rc$2d$7771d3a7$2d$20240827$2f$node_modules$2f$drizzle$2d$orm$2f$mysql$2d$core$2f$table$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/.pnpm/drizzle-orm@0.34.0_@types+react@18.3.3_mysql2@3.15.3_react@19.0.0-rc-7771d3a7-20240827/node_modules/drizzle-orm/mysql-core/table.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$34$2e$0_$40$types$2b$react$40$18$2e$3$2e$3_mysql2$40$3$2e$15$2e$3_react$40$19$2e$0$2e$0$2d$rc$2d$7771d3a7$2d$20240827$2f$node_modules$2f$drizzle$2d$orm$2f$mysql$2d$core$2f$columns$2f$char$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/.pnpm/drizzle-orm@0.34.0_@types+react@18.3.3_mysql2@3.15.3_react@19.0.0-rc-7771d3a7-20240827/node_modules/drizzle-orm/mysql-core/columns/char.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$34$2e$0_$40$types$2b$react$40$18$2e$3$2e$3_mysql2$40$3$2e$15$2e$3_react$40$19$2e$0$2e$0$2d$rc$2d$7771d3a7$2d$20240827$2f$node_modules$2f$drizzle$2d$orm$2f$mysql$2d$core$2f$columns$2f$varchar$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/.pnpm/drizzle-orm@0.34.0_@types+react@18.3.3_mysql2@3.15.3_react@19.0.0-rc-7771d3a7-20240827/node_modules/drizzle-orm/mysql-core/columns/varchar.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$34$2e$0_$40$types$2b$react$40$18$2e$3$2e$3_mysql2$40$3$2e$15$2e$3_react$40$19$2e$0$2e$0$2d$rc$2d$7771d3a7$2d$20240827$2f$node_modules$2f$drizzle$2d$orm$2f$mysql$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/.pnpm/drizzle-orm@0.34.0_@types+react@18.3.3_mysql2@3.15.3_react@19.0.0-rc-7771d3a7-20240827/node_modules/drizzle-orm/mysql-core/columns/timestamp.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$34$2e$0_$40$types$2b$react$40$18$2e$3$2e$3_mysql2$40$3$2e$15$2e$3_react$40$19$2e$0$2e$0$2d$rc$2d$7771d3a7$2d$20240827$2f$node_modules$2f$drizzle$2d$orm$2f$mysql$2d$core$2f$columns$2f$json$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/.pnpm/drizzle-orm@0.34.0_@types+react@18.3.3_mysql2@3.15.3_react@19.0.0-rc-7771d3a7-20240827/node_modules/drizzle-orm/mysql-core/columns/json.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$34$2e$0_$40$types$2b$react$40$18$2e$3$2e$3_mysql2$40$3$2e$15$2e$3_react$40$19$2e$0$2e$0$2d$rc$2d$7771d3a7$2d$20240827$2f$node_modules$2f$drizzle$2d$orm$2f$mysql$2d$core$2f$columns$2f$boolean$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/.pnpm/drizzle-orm@0.34.0_@types+react@18.3.3_mysql2@3.15.3_react@19.0.0-rc-7771d3a7-20240827/node_modules/drizzle-orm/mysql-core/columns/boolean.js [app-route] (ecmascript)");
"__TURBOPACK__ecmascript__hoisting__location__";
;
const user = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$34$2e$0_$40$types$2b$react$40$18$2e$3$2e$3_mysql2$40$3$2e$15$2e$3_react$40$19$2e$0$2e$0$2d$rc$2d$7771d3a7$2d$20240827$2f$node_modules$2f$drizzle$2d$orm$2f$mysql$2d$core$2f$table$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["mysqlTable"])("user", {
    id: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$34$2e$0_$40$types$2b$react$40$18$2e$3$2e$3_mysql2$40$3$2e$15$2e$3_react$40$19$2e$0$2e$0$2d$rc$2d$7771d3a7$2d$20240827$2f$node_modules$2f$drizzle$2d$orm$2f$mysql$2d$core$2f$columns$2f$char$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["char"])("id", {
        length: 36
    }).primaryKey().notNull().$defaultFn(()=>crypto.randomUUID()),
    email: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$34$2e$0_$40$types$2b$react$40$18$2e$3$2e$3_mysql2$40$3$2e$15$2e$3_react$40$19$2e$0$2e$0$2d$rc$2d$7771d3a7$2d$20240827$2f$node_modules$2f$drizzle$2d$orm$2f$mysql$2d$core$2f$columns$2f$varchar$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["varchar"])("email", {
        length: 64
    }).notNull(),
    password: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$34$2e$0_$40$types$2b$react$40$18$2e$3$2e$3_mysql2$40$3$2e$15$2e$3_react$40$19$2e$0$2e$0$2d$rc$2d$7771d3a7$2d$20240827$2f$node_modules$2f$drizzle$2d$orm$2f$mysql$2d$core$2f$columns$2f$varchar$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["varchar"])("password", {
        length: 64
    }),
    createdAt: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$34$2e$0_$40$types$2b$react$40$18$2e$3$2e$3_mysql2$40$3$2e$15$2e$3_react$40$19$2e$0$2e$0$2d$rc$2d$7771d3a7$2d$20240827$2f$node_modules$2f$drizzle$2d$orm$2f$mysql$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["timestamp"])("createdAt").notNull().defaultNow(),
    updatedAt: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$34$2e$0_$40$types$2b$react$40$18$2e$3$2e$3_mysql2$40$3$2e$15$2e$3_react$40$19$2e$0$2e$0$2d$rc$2d$7771d3a7$2d$20240827$2f$node_modules$2f$drizzle$2d$orm$2f$mysql$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["timestamp"])("updatedAt").onUpdateNow()
});
const chat = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$34$2e$0_$40$types$2b$react$40$18$2e$3$2e$3_mysql2$40$3$2e$15$2e$3_react$40$19$2e$0$2e$0$2d$rc$2d$7771d3a7$2d$20240827$2f$node_modules$2f$drizzle$2d$orm$2f$mysql$2d$core$2f$table$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["mysqlTable"])("chat", {
    id: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$34$2e$0_$40$types$2b$react$40$18$2e$3$2e$3_mysql2$40$3$2e$15$2e$3_react$40$19$2e$0$2e$0$2d$rc$2d$7771d3a7$2d$20240827$2f$node_modules$2f$drizzle$2d$orm$2f$mysql$2d$core$2f$columns$2f$char$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["char"])("id", {
        length: 36
    }).primaryKey().notNull().$defaultFn(()=>crypto.randomUUID()),
    createdAt: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$34$2e$0_$40$types$2b$react$40$18$2e$3$2e$3_mysql2$40$3$2e$15$2e$3_react$40$19$2e$0$2e$0$2d$rc$2d$7771d3a7$2d$20240827$2f$node_modules$2f$drizzle$2d$orm$2f$mysql$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["timestamp"])("createdAt").notNull().defaultNow(),
    updatedAt: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$34$2e$0_$40$types$2b$react$40$18$2e$3$2e$3_mysql2$40$3$2e$15$2e$3_react$40$19$2e$0$2e$0$2d$rc$2d$7771d3a7$2d$20240827$2f$node_modules$2f$drizzle$2d$orm$2f$mysql$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["timestamp"])("updatedAt").onUpdateNow(),
    messages: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$34$2e$0_$40$types$2b$react$40$18$2e$3$2e$3_mysql2$40$3$2e$15$2e$3_react$40$19$2e$0$2e$0$2d$rc$2d$7771d3a7$2d$20240827$2f$node_modules$2f$drizzle$2d$orm$2f$mysql$2d$core$2f$columns$2f$json$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["json"])("messages").notNull(),
    userId: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$34$2e$0_$40$types$2b$react$40$18$2e$3$2e$3_mysql2$40$3$2e$15$2e$3_react$40$19$2e$0$2e$0$2d$rc$2d$7771d3a7$2d$20240827$2f$node_modules$2f$drizzle$2d$orm$2f$mysql$2d$core$2f$columns$2f$char$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["char"])("userId", {
        length: 36
    }).notNull().references(()=>user.id, {
        onDelete: 'cascade'
    })
});
const reservation = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$34$2e$0_$40$types$2b$react$40$18$2e$3$2e$3_mysql2$40$3$2e$15$2e$3_react$40$19$2e$0$2e$0$2d$rc$2d$7771d3a7$2d$20240827$2f$node_modules$2f$drizzle$2d$orm$2f$mysql$2d$core$2f$table$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["mysqlTable"])("reservation", {
    id: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$34$2e$0_$40$types$2b$react$40$18$2e$3$2e$3_mysql2$40$3$2e$15$2e$3_react$40$19$2e$0$2e$0$2d$rc$2d$7771d3a7$2d$20240827$2f$node_modules$2f$drizzle$2d$orm$2f$mysql$2d$core$2f$columns$2f$char$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["char"])("id", {
        length: 36
    }).primaryKey().notNull().$defaultFn(()=>crypto.randomUUID()),
    createdAt: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$34$2e$0_$40$types$2b$react$40$18$2e$3$2e$3_mysql2$40$3$2e$15$2e$3_react$40$19$2e$0$2e$0$2d$rc$2d$7771d3a7$2d$20240827$2f$node_modules$2f$drizzle$2d$orm$2f$mysql$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["timestamp"])("createdAt").notNull().defaultNow(),
    updatedAt: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$34$2e$0_$40$types$2b$react$40$18$2e$3$2e$3_mysql2$40$3$2e$15$2e$3_react$40$19$2e$0$2e$0$2d$rc$2d$7771d3a7$2d$20240827$2f$node_modules$2f$drizzle$2d$orm$2f$mysql$2d$core$2f$columns$2f$timestamp$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["timestamp"])("updatedAt").onUpdateNow(),
    details: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$34$2e$0_$40$types$2b$react$40$18$2e$3$2e$3_mysql2$40$3$2e$15$2e$3_react$40$19$2e$0$2e$0$2d$rc$2d$7771d3a7$2d$20240827$2f$node_modules$2f$drizzle$2d$orm$2f$mysql$2d$core$2f$columns$2f$json$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["json"])("details").notNull(),
    hasCompletedPayment: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$34$2e$0_$40$types$2b$react$40$18$2e$3$2e$3_mysql2$40$3$2e$15$2e$3_react$40$19$2e$0$2e$0$2d$rc$2d$7771d3a7$2d$20240827$2f$node_modules$2f$drizzle$2d$orm$2f$mysql$2d$core$2f$columns$2f$boolean$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["boolean"])("hasCompletedPayment").notNull().default(false),
    userId: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$34$2e$0_$40$types$2b$react$40$18$2e$3$2e$3_mysql2$40$3$2e$15$2e$3_react$40$19$2e$0$2e$0$2d$rc$2d$7771d3a7$2d$20240827$2f$node_modules$2f$drizzle$2d$orm$2f$mysql$2d$core$2f$columns$2f$char$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["char"])("userId", {
        length: 36
    }).notNull().references(()=>user.id, {
        onDelete: 'cascade'
    })
});

})()),
"[externals]/ [external] (node:events, cjs)": (function({ r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, m: module, e: exports, t: require }) { !function() {

const mod = __turbopack_external_require__("node:events");

module.exports = mod;

}.call(this) }),
"[project]/db/queries.ts [app-route] (ecmascript)": (({ r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__ }) => (() => {
"use strict";

__turbopack_esm__({
    "createReservation": ()=>createReservation,
    "createUser": ()=>createUser,
    "deleteChatById": ()=>deleteChatById,
    "getChatById": ()=>getChatById,
    "getChatsByUserId": ()=>getChatsByUserId,
    "getReservationById": ()=>getReservationById,
    "getUser": ()=>getUser,
    "saveChat": ()=>saveChat,
    "updateReservation": ()=>updateReservation
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$15$2e$0$2e$0$2d$canary$2e$152_react$2d$dom$40$19$2e$0$2e$0$2d$rc$2d$7771d3a7$2d$20240827_react$40$19$2e$0$2e$0$2d$rc$2d$7771d3a7$2d$20240827$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$server$2d$only$2f$empty$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/.pnpm/next@15.0.0-canary.152_react-dom@19.0.0-rc-7771d3a7-20240827_react@19.0.0-rc-7771d3a7-20240827/node_modules/next/dist/compiled/server-only/empty.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$bcrypt$2d$ts$40$5$2e$0$2e$2$2f$node_modules$2f$bcrypt$2d$ts$2f$dist$2f$node$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/.pnpm/bcrypt-ts@5.0.2/node_modules/bcrypt-ts/dist/node.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$mysql2$40$3$2e$15$2e$3$2f$node_modules$2f$mysql2$2f$promise$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/.pnpm/mysql2@3.15.3/node_modules/mysql2/promise.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$db$2f$schema$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/db/schema.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$34$2e$0_$40$types$2b$react$40$18$2e$3$2e$3_mysql2$40$3$2e$15$2e$3_react$40$19$2e$0$2e$0$2d$rc$2d$7771d3a7$2d$20240827$2f$node_modules$2f$drizzle$2d$orm$2f$mysql2$2f$driver$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_import__("[project]/node_modules/.pnpm/drizzle-orm@0.34.0_@types+react@18.3.3_mysql2@3.15.3_react@19.0.0-rc-7771d3a7-20240827/node_modules/drizzle-orm/mysql2/driver.js [app-route] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$34$2e$0_$40$types$2b$react$40$18$2e$3$2e$3_mysql2$40$3$2e$15$2e$3_react$40$19$2e$0$2e$0$2d$rc$2d$7771d3a7$2d$20240827$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/.pnpm/drizzle-orm@0.34.0_@types+react@18.3.3_mysql2@3.15.3_react@19.0.0-rc-7771d3a7-20240827/node_modules/drizzle-orm/sql/expressions/conditions.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$34$2e$0_$40$types$2b$react$40$18$2e$3$2e$3_mysql2$40$3$2e$15$2e$3_react$40$19$2e$0$2e$0$2d$rc$2d$7771d3a7$2d$20240827$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$select$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/.pnpm/drizzle-orm@0.34.0_@types+react@18.3.3_mysql2@3.15.3_react@19.0.0-rc-7771d3a7-20240827/node_modules/drizzle-orm/sql/expressions/select.js [app-route] (ecmascript)");
"__TURBOPACK__ecmascript__hoisting__location__";
;
;
;
;
;
;
// Create a connection pool
const pool = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$mysql2$40$3$2e$15$2e$3$2f$node_modules$2f$mysql2$2f$promise$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["default"].createPool({
    uri: process.env.DATABASE_URL,
    waitForConnections: true,
    connectionLimit: 10,
    queueLimit: 0
});
const db = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$34$2e$0_$40$types$2b$react$40$18$2e$3$2e$3_mysql2$40$3$2e$15$2e$3_react$40$19$2e$0$2e$0$2d$rc$2d$7771d3a7$2d$20240827$2f$node_modules$2f$drizzle$2d$orm$2f$mysql2$2f$driver$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["drizzle"])(pool);
async function getUser(email) {
    try {
        const result = await db.select().from(__TURBOPACK__imported__module__$5b$project$5d2f$db$2f$schema$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["user"]).where((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$34$2e$0_$40$types$2b$react$40$18$2e$3$2e$3_mysql2$40$3$2e$15$2e$3_react$40$19$2e$0$2e$0$2d$rc$2d$7771d3a7$2d$20240827$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$db$2f$schema$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["user"].email, email));
        return result || [];
    } catch (error) {
        console.error("Failed to get user from database", error);
        return [];
    }
}
async function createUser(email, password) {
    const connection = await pool.getConnection();
    try {
        await connection.beginTransaction();
        const salt = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$bcrypt$2d$ts$40$5$2e$0$2e$2$2f$node_modules$2f$bcrypt$2d$ts$2f$dist$2f$node$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["genSaltSync"])(10);
        const hash = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$bcrypt$2d$ts$40$5$2e$0$2e$2$2f$node_modules$2f$bcrypt$2d$ts$2f$dist$2f$node$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["hashSync"])(password, salt);
        // First insert the user
        await db.insert(__TURBOPACK__imported__module__$5b$project$5d2f$db$2f$schema$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["user"]).values({
            email,
            password: hash,
            createdAt: new Date(),
            updatedAt: new Date()
        });
        // Then fetch the newly created user
        const [newUser] = await db.select().from(__TURBOPACK__imported__module__$5b$project$5d2f$db$2f$schema$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["user"]).where((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$34$2e$0_$40$types$2b$react$40$18$2e$3$2e$3_mysql2$40$3$2e$15$2e$3_react$40$19$2e$0$2e$0$2d$rc$2d$7771d3a7$2d$20240827$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$db$2f$schema$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["user"].email, email)).limit(1);
        await connection.commit();
        if (!newUser) {
            throw new Error('Failed to retrieve created user');
        }
        return newUser;
    } catch (error) {
        await connection.rollback();
        console.error("Failed to create user in database", error);
        throw error;
    } finally{
        connection.release();
    }
}
async function saveChat({ id, messages, userId }) {
    const connection = await pool.getConnection();
    try {
        await connection.beginTransaction();
        const existingChat = await db.select().from(__TURBOPACK__imported__module__$5b$project$5d2f$db$2f$schema$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["chat"]).where((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$34$2e$0_$40$types$2b$react$40$18$2e$3$2e$3_mysql2$40$3$2e$15$2e$3_react$40$19$2e$0$2e$0$2d$rc$2d$7771d3a7$2d$20240827$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$db$2f$schema$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["chat"].id, id));
        let result;
        if (existingChat.length > 0) {
            [result] = await db.update(__TURBOPACK__imported__module__$5b$project$5d2f$db$2f$schema$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["chat"]).set({
                messages: JSON.stringify(messages),
                updatedAt: new Date()
            }).where((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$34$2e$0_$40$types$2b$react$40$18$2e$3$2e$3_mysql2$40$3$2e$15$2e$3_react$40$19$2e$0$2e$0$2d$rc$2d$7771d3a7$2d$20240827$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$db$2f$schema$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["chat"].id, id));
        } else {
            [result] = await db.insert(__TURBOPACK__imported__module__$5b$project$5d2f$db$2f$schema$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["chat"]).values({
                id,
                messages: JSON.stringify(messages),
                userId,
                createdAt: new Date(),
                updatedAt: new Date()
            });
        }
        await connection.commit();
        // Fetch the saved chat to return
        const [savedChat] = await db.select().from(__TURBOPACK__imported__module__$5b$project$5d2f$db$2f$schema$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["chat"]).where((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$34$2e$0_$40$types$2b$react$40$18$2e$3$2e$3_mysql2$40$3$2e$15$2e$3_react$40$19$2e$0$2e$0$2d$rc$2d$7771d3a7$2d$20240827$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$db$2f$schema$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["chat"].id, id)).limit(1);
        return savedChat;
    } catch (error) {
        await connection.rollback();
        console.error("Failed to save chat to database", error);
        throw error;
    } finally{
        connection.release();
    }
}
async function deleteChatById({ id }) {
    const connection = await pool.getConnection();
    try {
        await connection.beginTransaction();
        await db.delete(__TURBOPACK__imported__module__$5b$project$5d2f$db$2f$schema$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["chat"]).where((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$34$2e$0_$40$types$2b$react$40$18$2e$3$2e$3_mysql2$40$3$2e$15$2e$3_react$40$19$2e$0$2e$0$2d$rc$2d$7771d3a7$2d$20240827$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$db$2f$schema$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["chat"].id, id));
        await connection.commit();
    } catch (error) {
        await connection.rollback();
        console.error("Failed to delete chat from database", error);
        throw error;
    } finally{
        connection.release();
    }
}
async function getChatsByUserId({ id }) {
    try {
        return await db.select().from(__TURBOPACK__imported__module__$5b$project$5d2f$db$2f$schema$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["chat"]).where((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$34$2e$0_$40$types$2b$react$40$18$2e$3$2e$3_mysql2$40$3$2e$15$2e$3_react$40$19$2e$0$2e$0$2d$rc$2d$7771d3a7$2d$20240827$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$db$2f$schema$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["chat"].userId, id)).orderBy((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$34$2e$0_$40$types$2b$react$40$18$2e$3$2e$3_mysql2$40$3$2e$15$2e$3_react$40$19$2e$0$2e$0$2d$rc$2d$7771d3a7$2d$20240827$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$select$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["desc"])(__TURBOPACK__imported__module__$5b$project$5d2f$db$2f$schema$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["chat"].createdAt));
    } catch (error) {
        console.error("Failed to get chats from database", error);
        throw error;
    }
}
async function getChatById({ id }) {
    try {
        const [result] = await db.select().from(__TURBOPACK__imported__module__$5b$project$5d2f$db$2f$schema$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["chat"]).where((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$34$2e$0_$40$types$2b$react$40$18$2e$3$2e$3_mysql2$40$3$2e$15$2e$3_react$40$19$2e$0$2e$0$2d$rc$2d$7771d3a7$2d$20240827$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$db$2f$schema$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["chat"].id, id)).limit(1);
        return result;
    } catch (error) {
        console.error("Failed to get chat from database", error);
        throw error;
    }
}
async function createReservation({ id, userId, details }) {
    const connection = await pool.getConnection();
    try {
        await connection.beginTransaction();
        await db.insert(__TURBOPACK__imported__module__$5b$project$5d2f$db$2f$schema$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["reservation"]).values({
            id,
            userId,
            details: JSON.stringify(details),
            createdAt: new Date(),
            updatedAt: new Date(),
            hasCompletedPayment: false
        });
        await connection.commit();
        // Fetch the created reservation to return
        const [newReservation] = await db.select().from(__TURBOPACK__imported__module__$5b$project$5d2f$db$2f$schema$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["reservation"]).where((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$34$2e$0_$40$types$2b$react$40$18$2e$3$2e$3_mysql2$40$3$2e$15$2e$3_react$40$19$2e$0$2e$0$2d$rc$2d$7771d3a7$2d$20240827$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$db$2f$schema$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["reservation"].id, id)).limit(1);
        return newReservation;
    } catch (error) {
        await connection.rollback();
        console.error("Failed to create reservation in database", error);
        throw error;
    } finally{
        connection.release();
    }
}
async function getReservationById({ id }) {
    try {
        const [selectedReservation] = await db.select().from(__TURBOPACK__imported__module__$5b$project$5d2f$db$2f$schema$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["reservation"]).where((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$34$2e$0_$40$types$2b$react$40$18$2e$3$2e$3_mysql2$40$3$2e$15$2e$3_react$40$19$2e$0$2e$0$2d$rc$2d$7771d3a7$2d$20240827$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$db$2f$schema$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["reservation"].id, id));
        return selectedReservation;
    } catch (error) {
        console.error("Failed to get reservation from database", error);
        throw error;
    }
}
async function updateReservation({ id, hasCompletedPayment }) {
    const connection = await pool.getConnection();
    try {
        await connection.beginTransaction();
        await db.update(__TURBOPACK__imported__module__$5b$project$5d2f$db$2f$schema$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["reservation"]).set({
            hasCompletedPayment,
            updatedAt: new Date()
        }).where((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$34$2e$0_$40$types$2b$react$40$18$2e$3$2e$3_mysql2$40$3$2e$15$2e$3_react$40$19$2e$0$2e$0$2d$rc$2d$7771d3a7$2d$20240827$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$db$2f$schema$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["reservation"].id, id));
        await connection.commit();
        // Fetch the updated reservation to return
        const [updatedReservation] = await db.select().from(__TURBOPACK__imported__module__$5b$project$5d2f$db$2f$schema$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["reservation"]).where((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$34$2e$0_$40$types$2b$react$40$18$2e$3$2e$3_mysql2$40$3$2e$15$2e$3_react$40$19$2e$0$2e$0$2d$rc$2d$7771d3a7$2d$20240827$2f$node_modules$2f$drizzle$2d$orm$2f$sql$2f$expressions$2f$conditions$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["eq"])(__TURBOPACK__imported__module__$5b$project$5d2f$db$2f$schema$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["reservation"].id, id)).limit(1);
        return updatedReservation;
    } catch (error) {
        await connection.rollback();
        console.error("Failed to update reservation in database", error);
        throw error;
    } finally{
        connection.release();
    }
}

})()),
"[project]/app/(auth)/auth.config.ts [app-route] (ecmascript)": (({ r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__ }) => (() => {
"use strict";

__turbopack_esm__({
    "authConfig": ()=>authConfig
});
const authConfig = {
    pages: {
        signIn: "/login",
        newUser: "/"
    },
    providers: [],
    callbacks: {
        authorized ({ auth, request: { nextUrl } }) {
            let isLoggedIn = !!auth?.user;
            let isOnChat = nextUrl.pathname.startsWith("/");
            let isOnRegister = nextUrl.pathname.startsWith("/register");
            let isOnLogin = nextUrl.pathname.startsWith("/login");
            if (isLoggedIn && (isOnLogin || isOnRegister)) {
                return Response.redirect(new URL("/", nextUrl));
            }
            if (isOnRegister || isOnLogin) {
                return true; // Always allow access to register and login pages
            }
            if (isOnChat) {
                if (isLoggedIn) return true;
                return false; // Redirect unauthenticated users to login page
            }
            if (isLoggedIn) {
                return Response.redirect(new URL("/", nextUrl));
            }
            return true;
        }
    }
};

})()),
"[project]/app/(auth)/auth.ts [app-route] (ecmascript)": (({ r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__ }) => (() => {
"use strict";

__turbopack_esm__({
    "GET": ()=>GET,
    "POST": ()=>POST,
    "auth": ()=>auth,
    "signIn": ()=>signIn,
    "signOut": ()=>signOut
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$bcrypt$2d$ts$40$5$2e$0$2e$2$2f$node_modules$2f$bcrypt$2d$ts$2f$dist$2f$node$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/.pnpm/bcrypt-ts@5.0.2/node_modules/bcrypt-ts/dist/node.mjs [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$2d$auth$40$5$2e$0$2e$0$2d$beta$2e$22_next$40$15$2e$0$2e$0$2d$canary$2e$152_react$40$19$2e$0$2e$0$2d$rc$2d$7771d3a7$2d$20240827$2f$node_modules$2f$next$2d$auth$2f$index$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$module__evaluation$3e$__ = __turbopack_import__("[project]/node_modules/.pnpm/next-auth@5.0.0-beta.22_next@15.0.0-canary.152_react@19.0.0-rc-7771d3a7-20240827/node_modules/next-auth/index.js [app-route] (ecmascript) <module evaluation>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$2d$auth$40$5$2e$0$2e$0$2d$beta$2e$22_next$40$15$2e$0$2e$0$2d$canary$2e$152_react$40$19$2e$0$2e$0$2d$rc$2d$7771d3a7$2d$20240827$2f$node_modules$2f$next$2d$auth$2f$providers$2f$credentials$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$module__evaluation$3e$__ = __turbopack_import__("[project]/node_modules/.pnpm/next-auth@5.0.0-beta.22_next@15.0.0-canary.152_react@19.0.0-rc-7771d3a7-20240827/node_modules/next-auth/providers/credentials.js [app-route] (ecmascript) <module evaluation>");
var __TURBOPACK__imported__module__$5b$project$5d2f$db$2f$queries$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/db/queries.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$app$2f28$auth$292f$auth$2e$config$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/app/(auth)/auth.config.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$2d$auth$40$5$2e$0$2e$0$2d$beta$2e$22_next$40$15$2e$0$2e$0$2d$canary$2e$152_react$40$19$2e$0$2e$0$2d$rc$2d$7771d3a7$2d$20240827$2f$node_modules$2f$next$2d$auth$2f$index$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_import__("[project]/node_modules/.pnpm/next-auth@5.0.0-beta.22_next@15.0.0-canary.152_react@19.0.0-rc-7771d3a7-20240827/node_modules/next-auth/index.js [app-route] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f40$auth$2b$core$40$0$2e$35$2e$3$2f$node_modules$2f40$auth$2f$core$2f$providers$2f$credentials$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/.pnpm/@auth+core@0.35.3/node_modules/@auth/core/providers/credentials.js [app-route] (ecmascript)");
"__TURBOPACK__ecmascript__hoisting__location__";
;
;
;
;
;
const { handlers: { GET, POST }, auth, signIn, signOut } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$2d$auth$40$5$2e$0$2e$0$2d$beta$2e$22_next$40$15$2e$0$2e$0$2d$canary$2e$152_react$40$19$2e$0$2e$0$2d$rc$2d$7771d3a7$2d$20240827$2f$node_modules$2f$next$2d$auth$2f$index$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["default"])({
    ...__TURBOPACK__imported__module__$5b$project$5d2f$app$2f28$auth$292f$auth$2e$config$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["authConfig"],
    providers: [
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f40$auth$2b$core$40$0$2e$35$2e$3$2f$node_modules$2f40$auth$2f$core$2f$providers$2f$credentials$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["default"])({
            credentials: {
                email: {
                    label: "Email",
                    type: "email"
                },
                password: {
                    label: "Password",
                    type: "password"
                }
            },
            async authorize (credentials) {
                console.log('Authorization attempt with credentials:', {
                    email: credentials?.email ? 'provided' : 'missing',
                    password: credentials?.password ? 'provided' : 'missing'
                });
                if (!credentials?.email || !credentials?.password) {
                    console.error('Missing email or password');
                    return null;
                }
                try {
                    console.log('Looking up user:', credentials.email);
                    const users = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$db$2f$queries$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["getUser"])(credentials.email);
                    if (users.length === 0) {
                        console.error('No user found with email:', credentials.email);
                        return null;
                    }
                    const user = users[0];
                    console.log('User found, verifying password...');
                    const isValidPassword = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$bcrypt$2d$ts$40$5$2e$0$2e$2$2f$node_modules$2f$bcrypt$2d$ts$2f$dist$2f$node$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["compare"])(credentials.password, user.password);
                    if (!isValidPassword) {
                        console.error('Invalid password for user:', credentials.email);
                        return null;
                    }
                    console.log('Password verified, user authorized:', user.id);
                    // Return only the necessary user data
                    return {
                        id: user.id,
                        email: user.email,
                        name: user.email.split('@')[0]
                    };
                    "TURBOPACK unreachable";
                } catch (error) {
                    console.error('Error during authentication:', error);
                    return null;
                }
            }
        })
    ],
    callbacks: {
        async jwt ({ token, user }) {
            if (user) {
                token.id = user.id;
            }
            return token;
        },
        async session ({ session, token }) {
            if (session.user) {
                session.user.id = token.id;
            }
            return session;
        }
    }
});

})()),
"[project]/app/(chat)/api/history/route.ts [app-route] (ecmascript)": (({ r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__ }) => (() => {
"use strict";

__turbopack_esm__({
    "GET": ()=>GET
});
var __TURBOPACK__imported__module__$5b$project$5d2f$app$2f28$auth$292f$auth$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/app/(auth)/auth.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$db$2f$queries$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/db/queries.ts [app-route] (ecmascript)");
"__TURBOPACK__ecmascript__hoisting__location__";
;
;
async function GET() {
    const session = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$app$2f28$auth$292f$auth$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["auth"])();
    if (!session || !session.user) {
        return Response.json("Unauthorized!", {
            status: 401
        });
    }
    const chats = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$db$2f$queries$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["getChatsByUserId"])({
        id: session.user.id
    });
    return Response.json(chats);
}

})()),

};

//# sourceMappingURL=%5Broot%20of%20the%20server%5D__dc2bb8._.js.map